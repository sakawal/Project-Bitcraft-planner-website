<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>The Bitcrafters' Forge</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h1>The Bitcrafters' Forge</h1>
    <p style="opacity:.85;margin-top:.25rem"><em>The gathering place for Bitcraft’s finest crafters.</em></p>
    <nav>
      <ul>
        <!-- Home (left, default) -->
        <li data-tab="home" class="active">
          <img src="assets/Travelers/Brico.png" alt="Home" class="nav-icon" width="24" height="24" loading="lazy" decoding="async">
          Home
        </li>

        <!-- Center tabs -->
        <li data-tab="travelers">
          <img src="assets/Trading.png" alt="Travelers" class="nav-icon" width="24" height="24" loading="lazy" decoding="async">
          Travelers
        </li>
        <li data-tab="items">
          <img src="assets/Book.png" alt="Items" class="nav-icon" width="24" height="24" loading="lazy" decoding="async">
          Items
        </li>
        <li data-tab="craft">
          <img src="assets/Crafting.png" alt="Craft" class="nav-icon" width="24" height="24" loading="lazy" decoding="async">
          Craft
        </li>
        <li data-tab="inventory">
          <img src="assets/Other/Vehicles/LargeCart.png" alt="My Inventory" class="nav-icon" width="24" height="24" loading="lazy" decoding="async">
          My Inventory
        </li>

        <!-- About me (right) -->
        <li data-tab="about">
          <img src="assets/About.png" alt="About me" class="nav-icon" width="24" height="24" loading="lazy" decoding="async">
          About me
        </li>
      </ul>
    </nav>

    <!-- Gear button for Settings -->
    <button id="settings-gear" class="gear-btn" aria-label="Open settings" title="Settings">
      <svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true">
        <path fill="currentColor" d="M19.14 12.94c.04-.31.06-.63.06-.94s-.02-.63-.06-.94l2.03-1.58a.5.5 0 0 0 .12-.65l-1.92-3.32a.5.5 0 0 0-.6-.22l-2.39.96a7.06 7.06 0 0 0-1.63-.94l-.36-2.54A.5.5 0 0 0 13.9 1h-3.8a.5.5 0 0 0-.49.41l-.36 2.54c-.58.23-1.12.54-1.63.94l-2.39-.96a.5.5 0 0 0-.6.22L2.7 7.98a.5.5 0 0 0 .12.65l2.03 1.58c-.04.31-.06.63-.06.94s.02.63.06.94l-2.03 1.58a.5.5 0 0 0-.12.65l1.92 3.32c.13.22.39.31.6.22l2.39-.96c.5.4 1.05.72 1.63.94l.36 2.54c.04.24.25.41.49.41h3.8c.24 0 .45-.17.49-.41l.36-2.54c.58-.23 1.12-.54 1.63-.94l2.39.96c.22.09.47 0 .6-.22l1.92-3.32a.5.5 0 0 0-.12-.65l-2.03-1.58ZM12 15.5A3.5 3.5 0 1 1 12 8.5a3.5 3.5 0 0 1 0 7Z"/>
      </svg>
    </button>
  </header>

  <!-- Settings -->
  <div id="settings-modal" class="settings-modal" aria-hidden="true">
    <div class="settings-content" role="dialog" aria-modal="true" aria-labelledby="settings-title">
      <span class="close-button" id="close-settings-modal" aria-label="Close">&times;</span>
      <h2 id="settings-title">Settings</h2>

      <div class="setting-row">
        <label class="switch">
          <input type="checkbox" id="theme-toggle" />
          <span class="slider"></span>
        </label>
        <div>
          <div class="setting-title">Theme</div>
          <div class="setting-sub">Light / Dark</div>
        </div>
      </div>

      <div class="setting-row">
        <button id="delete-cache-btn" class="delete-cache-btn">Delete Local Storage Cache</button>
      </div>

      <div class="setting-row">
        <button id="export-localstorage-btn" class="export-btn">Export Local Storage</button>
        <button id="import-localstorage-btn" class="import-btn">Import Local Storage</button>
        <input id="import-localstorage-file" type="file" accept=".json,application/json" style="display:none" />
      </div>

      <div id="settings-message" class="settings-message"></div>
    </div>
  </div>

  <main>
    <div id="global-info-message" class="global-info-message" role="status" aria-live="polite"></div>

 <!-- Home tab -->
<section id="home" class="tab active">
  <h2>Welcome to the Forge</h2>
  <p>
    Hello, traveler! This is your go-to place for Bitcraft Online planning — craft routes, quest tracking,
    and inventory management in one clean workspace. Plan first, gather smarter, craft faster, and share
    your plans with friends.
  </p>

  <h3>How the tabs work</h3>
  <ul>
    <li><strong>Traveler Quests</strong> - Set a level for each traveler NPC and only quests available at that level will show.
        Click <em>Add</em> on any quest you want to pursue — its required items go straight into the <strong>Craft</strong> tab.</li>

    <li><strong>Items</strong> - Browse every item in the dataset. Some entries don’t have a recipe (they’re shown for reference),
        but you can still <em>Add to Craft</em> or <em>Add to Inventory</em> and plan around them.</li>

    <li><strong>Craft</strong> - See step‑by‑step instructions to obtain your target items. The planner computes steps,
        raw resources, and min–max ranges based on recipe outputs. If an item has multiple recipes, pick the one you want
        from the selector.</li>

    <li><strong>Inventory</strong> - Track what you already own. Quantities here automatically reduce craft requirements.
        You can also adjust counts inline with the ± buttons while reviewing steps.</li>
  </ul>
</section>

    <!-- Travelers tab -->
    <section id="travelers" class="tab">
      <h2>Traveler Quests</h2>
      <div class="traveler-controls">
        <div id="traveler-filter-buttons" class="traveler-filter-buttons"></div>
      </div>
      <div id="travelers-grid" class="travelers-grid"></div>
    </section>

    <!-- Items tab -->
    <section id="items" class="tab">
      <h2>All Items</h2>
      <div class="items-controls">
        <label for="items-search" class="visually-hidden">Search items</label>
        <input type="text" id="items-search" name="items-search" placeholder="Search items..." class="items-search" aria-label="Search items" />

        <label for="items-tier-filter" class="visually-hidden">Tier filter</label>
        <select id="items-tier-filter" name="items-tier-filter" class="items-tier-filter" aria-label="Tier filter">
          <option value="">All Tiers</option>
        </select>

        <label for="items-rarity-filter" class="visually-hidden">Rarity filter</label>
        <select id="items-rarity-filter" name="items-rarity-filter" class="items-rarity-filter" aria-label="Rarity filter">
          <option value="">All Rarities</option>
          <option value="0">Unknown</option>
          <option value="1">Common</option>
          <option value="2">Uncommon</option>
          <option value="3">Rare</option>
          <option value="4">Epic</option>
          <option value="5">Legendary</option>
          <option value="6">Mythic</option>
        </select>

        <label for="items-tag-filter" class="visually-hidden">Tag filter</label>
        <select id="items-tag-filter" name="items-tag-filter" class="items-tag-filter" aria-label="Tag filter">
          <option value="">All Tags</option>
        </select>
      </div>
      <div class="pagination">
        <button id="prev-page">Previous</button>
        <span id="page-indicator">Page 1</span>
        <button id="next-page">Next</button>
      </div>
      <div id="items-grid" class="items-grid"></div>
    </section>

    <!-- Craft tab -->
    <section id="craft" class="tab">
      <h2>Crafting Planner</h2>

      <!-- Plans -->
      <div class="plans-section">
        <h3>Plans</h3>
        <div class="plan-create">
          <input id="plan-name-input" type="text" placeholder="Plan name..." aria-label="Plan name">
          <button id="save-plan-btn" class="action-btn share-btn">Save Plan</button>
        </div>
        <div id="plans-list" class="plans-list"></div>
      </div>

      <div class="craft-list-actions">
        <button id="share-craft-list-btn" class="action-btn share-btn">Share Craft List</button>
        <button id="clear-craft-list-btn" class="action-btn clear-btn">Clear Craft List</button>
      </div>

      <div id="craft-list" class="craft-list"></div>

      <div class="global-requirements-section">
        <h3>Required Resources</h3>
        <p class="section-subtitle">(Resources to collect, press buttons - + to adjust quantities in inventory)</p>
        <div id="global-requirements-list" class="global-requirements-list"></div>
      </div>

      <div class="inventory-usage-section">
        <h3>Items Used from Inventory</h3>
        <div id="inventory-usage-list" class="inventory-usage-list"></div>
      </div>

      <div class="craft-steps-section">
        <h3>Crafting Steps</h3>
        <div id="craft-steps-list" class="craft-steps-grid"></div>
      </div>
    </section>

    <!-- Inventory tab -->
    <section id="inventory" class="tab">
      <div class="inventory-header">
        <h2>My Inventory</h2>
        <div class="inventory-actions">
          <button id="share-inventory-btn" class="action-btn share-btn">Share Inventory</button>
          <button id="clear-inventory-btn" class="action-btn clear-btn">Clear Inventory</button>
        </div>
      </div>

      <!-- Storage plans -->
      <div class="plans-section inventory-plans-section">
        <h3>Storage Plans</h3>
        <div class="plan-create">
          <input id="inv-plan-name-input" type="text" placeholder="Plan name..." aria-label="Plan name">
          <button id="save-inv-plan-btn" class="action-btn share-btn">Save Plan</button>
        </div>
        <div id="inv-plans-list" class="plans-list"></div>
      </div>

      <div id="inventory-list" class="inventory-list"></div>
    </section>

<!-- About me tab -->
<section id="about" class="tab">
  <h2>About Me</h2>
  <p><strong>Hi! I’m Vagabond</strong> (no connection to the manga). On GitHub I go by <strong>Sakawal</strong>, and on Discord you’ll find me as <strong>Vaga-Yaga</strong> (lvagabond).</p>

  <p>I discovered <strong>Bitcraft Online</strong> during its demo and was hooked right away. I’m the type of player who loves optimizing every action — with thousands of hours in Path of Exile, Warframe, Satisfactory, Last epoch, Warhammer 40k ( darktide and space marine 2), Total war ( I have the collection) and other games, farming and planning are second nature to me. When I couldn’t find a planner that suited my style, I decided to make my own.</p>

  <p>I’m not a professional developer; I’m learning as I go, with help from friends and AI tools. I’m passionate about video games — from appreciating their artistic design, to diving into their lore, to imagining how they might work as movies or series. My humor is often weird, but I love simplicity. In games, I’m often *that* guy who reaches out a hand to you and says: <em>“Wake up, Samurai. We have a city to burn.”</em> I hold back from revealing everything about myself — but only because my love for games is so immense that I can’t resist slipping in a reference somewhere.</p>

  <p>Special thanks to friends who made this project possible:</p>
  <ul>
    <li><strong>Dandelion</strong> — provided clean JSON data, higher-quality images, and helped tackle the hardest part: crafting math. Absolute legend.</li>
    <li><strong>Shaman</strong> (cybersecurity dev) — guides my self-learning and insisted on the “little beast” footer. Keeper of magical tea-brewing cats in Barad-dûr, and frequent visitor of Nasus’s library.</li>
    <li><strong>Hippo</strong> (web dev from Indonesia) — showed me how to keep the project simple with HTML, CSS, and JS. Master of the elements and rumored distant cousin of a certain Maven… but who is she, exile?</li>
  </ul>

  <p>This site isn’t perfect, but it’s built with care. If you’d like to support it, give feedback, or contribute, you’re more than welcome.</p>

  <h3>Links</h3>
  <ul>
    <li>GitHub repository: <a href="https://github.com/sakawal/The-Bitcrafter-s-House" target="_blank" rel="noopener">Here</a></li>
    <li>Support on Ko-fi: <a href="https://ko-fi.com/levagabond" target="_blank" rel="noopener">Here</a></li>
    <li>Bitcraft Online official site: <a href="https://bitcraftonline.com/" target="_blank" rel="noopener">Here</a></li>
    <li>Bitcraft Online Steam page: <a href="https://store.steampowered.com/app/3454650/BitCraft_Online/" target="_blank" rel="noopener">Here</a></li>
    <li>Official Discord: <a href="https://discord.gg/bitcraft" target="_blank" rel="noopener">Here</a></li>
  </ul>
</section>


  <!-- Import decision modal -->
  <div id="link-import-modal" class="import-modal" aria-hidden="true">
    <div class="import-modal-content" role="dialog" aria-modal="true" aria-labelledby="import-title">
      <h2 id="import-title">Import</h2>
      <p id="import-summary">Choose how to import the incoming data.</p>

      <div class="import-target" style="display:flex;gap:1rem;margin-bottom:.75rem;justify-content:center">
        <label style="display:flex;align-items:center;gap:.35rem;">
          <input type="radio" name="import-target" id="import-target-craft" value="craft" /> Craft
        </label>
        <label style="display:flex;align-items:center;gap:.35rem;">
          <input type="radio" name="import-target" id="import-target-inventory" value="inventory" /> Inventory
        </label>
      </div>
      <div class="import-details" id="import-details"></div>
      <div class="import-buttons">
        <button id="merge-import">Merge with current</button>
        <button id="replace-import">Replace current</button>
        <button id="cancel-import" class="import-cancel">Cancel</button>
      </div>
    </div>
  </div>

  <!-- Share modal -->
  <div id="share-modal" class="import-modal" aria-hidden="true">
    <div class="import-modal-content" role="dialog" aria-modal="true" aria-labelledby="share-title">
      <h2 id="share-title">Share</h2>
      <p id="share-summary">Share this link or code with your friends.</p>

      <div class="import-details">
        <label for="share-link" class="visually-hidden">Share link</label>
        <input id="share-link" type="text" readonly value=""
               style="width:100%;padding:.6rem;border-radius:10px;border:1px solid #555;background:transparent;color:var(--text);margin:.25rem 0 .5rem" />
        <div style="display:flex;gap:.5rem;flex-wrap:wrap;justify-content:center;margin-bottom:.75rem">
          <button id="copy-share-link">Copy Link</button>
          <a id="open-share-link" href="#" style="align-self:center;font-size:.9rem;opacity:.8;text-decoration:underline">Open</a>
        </div>

        <input id="share-code" type="hidden" value="" />
        <div style="display:flex;gap:.5rem;flex-wrap:wrap;justify-content:center;margin-top:.5rem">
          <button id="view-share-data">View Data</button>
        </div>
        <div id="share-data-view" style="display:none;max-height:180px;overflow:auto;margin-top:.5rem;padding:.75rem;border:1px solid var(--accent);border-radius:10px;background:var(--surface)"></div>
      </div>

      <div class="import-buttons">
        <button id="close-share-modal" class="import-cancel">Close</button>
      </div>
    </div>
  </div>

  <!-- Plan view modal -->
  <div id="plan-view-modal" class="import-modal" aria-hidden="true">
    <div class="import-modal-content" role="dialog" aria-modal="true" aria-labelledby="plan-view-title">
      <h2 id="plan-view-title">Plan Contents</h2>
      <div id="plan-view-content" class="import-details"></div>
      <div class="import-buttons">
        <button id="close-plan-view" class="import-cancel">Close</button>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="site-footer">
    <p class="footer-text">&copy; By Vagabond/Vaga-Yaga ( Discord: “lvagabond” a.k.a. Little Beast, The Master Exile ).
       GitHub is <a href="https://github.com/sakawal/The-Bitcrafter-s-House" target="_blank" rel="noopener noreferrer">here</a>.
    </p>
    <a href="https://ko-fi.com/levagabond" target="_blank" rel="noopener noreferrer" class="kofi-button">
      <img src="https://storage.ko-fi.com/cdn/cup-border.png" alt="Ko-fi" class="kofi-icon" width="20" height="20" loading="lazy" decoding="async">
      Support the forge
    </a>
  </footer>

  <!-- Bump the version if you need to hard-refresh the script -->
  <script src="main.js?v=4"></script>
</body>
</html>
